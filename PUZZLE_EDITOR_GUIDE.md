# 拼图编辑器使用指南

## 功能概述

拼图编辑器是本项目的核心功能之一，允许用户创建自定义拼图关卡。通过简单的步骤，您可以将任何图片转换为有趣的拼图游戏。

## 主要功能

### 1. 图片上传 📸
- **拖拽上传**: 直接将图片文件拖拽到上传区域
- **文件选择**: 点击"选择图片文件"按钮浏览本地文件
- **格式支持**: 支持 JPG、PNG、GIF 等常见图片格式
- **大小建议**: 推荐分辨率 800x800 以上，文件大小不超过 10MB

### 2. 智能裁剪 ✂️
- **双比例模式**: 
  - 1:1 正方形：经典拼图比例，适合大多数场景
  - 16:9 宽屏：适合风景照片和横向图片
- **可视化裁剪框**: 实时预览裁剪区域
- **灵活调整**: 
  - 拖拽裁剪框移动位置
  - 拖拽四个角调整大小
  - 缩放滑块调整图片大小
- **网格辅助**: 九宫格网格线帮助更好构图

### 3. 难度设置 🎯
- **四种难度等级**:
  - 😊 简单模式 (3×3，9块)：适合初学者，预计 5-10 分钟
  - 🤔 中等模式 (4×4，16块)：平衡挑战性，预计 10-20 分钟  
  - 😤 困难模式 (5×5，25块)：需要耐心，预计 20-40 分钟
  - 🔥 专家模式 (6×6，36块)：极高难度，预计 40 分钟以上

- **拼块形状** (部分功能预留):
  - ⬜ 方形拼块：简单直观，已实现
  - 🔺 三角拼块：增加趣味性，即将推出
  - 🧩 异形拼块：传统拼图形状，即将推出

### 4. 预留功能 💾
- **保存拼图**: 将自定义配置保存到本地存储
- **分享功能**: 导出配置文件或生成分享链接
- **开始游戏**: 直接进入自定义拼图游戏模式

## 使用流程

### 步骤 1: 上传图片
1. 在主菜单点击"🎨 拼图编辑器"按钮
2. 将图片拖拽到上传区域，或点击"选择图片文件"
3. 系统会自动加载图片并进入裁剪模式

### 步骤 2: 裁剪图片
1. 选择画幅比例（1:1 或 16:9）
2. 调整裁剪框位置和大小
3. 使用缩放滑块调整图片大小
4. 参考网格线进行构图
5. 点击"✂️ 确认裁剪"

### 步骤 3: 设置难度
1. 选择合适的难度等级
2. 选择拼块形状（目前仅支持方形）
3. 查看配置摘要
4. 点击"✅ 确认设置"

### 步骤 4: 预览和操作
1. 查看最终拼图预览
2. 确认拼图信息无误
3. 选择后续操作：
   - 🎮 开始游戏（即将推出）
   - 💾 保存拼图（即将推出）
   - 🔗 分享拼图（即将推出）

## 技术特性

### 响应式设计
- 完美适配桌面端和移动端
- 触摸友好的交互体验
- 智能布局调整

### 性能优化
- 图片自动压缩和优化
- 实时预览渲染
- 流畅的动画效果

### 用户体验
- 清晰的进度指示
- 实时操作反馈
- 详细的使用提示

## 开发说明

### 组件结构
```
src/components/editor/
├── PuzzleEditor.tsx        # 主编辑器组件
├── PuzzleEditor.css        # 主样式文件
├── ImageCropper.tsx        # 图片裁剪组件
├── ImageCropper.css        # 裁剪器样式
├── DifficultySettings.tsx  # 难度设置组件
└── DifficultySettings.css  # 设置样式
```

### 核心功能
- 文件上传和图片处理
- Canvas 图片裁剪技术
- 响应式拖拽交互
- TypeScript 类型安全

### 待实现功能
1. 与游戏引擎的集成
2. 本地存储和数据持久化
3. 分享和导出功能
4. 更多拼块形状支持
5. 批量处理功能

## 使用建议

### 图片选择
- **细节丰富**: 选择细节丰富、色彩对比明显的图片
- **避免纯色**: 避免大面积纯色背景
- **合适分辨率**: 建议使用高分辨率图片以保证清晰度

### 难度搭配
- **初次体验**: 建议从简单或中等难度开始
- **图片复杂度**: 细节越丰富的图片可以选择更高难度
- **时间安排**: 根据可用时间选择合适的难度等级

### 最佳实践
- 使用网格线帮助构图
- 确保裁剪区域包含足够的视觉元素
- 预览时仔细检查图片清晰度

## 更新日志

### v1.0.0 (当前版本)
- ✅ 基础图片上传功能
- ✅ 1:1 和 16:9 裁剪模式
- ✅ 可调整裁剪框和缩放
- ✅ 四种难度等级设置
- ✅ 完整的用户界面
- ✅ 响应式设计支持

### 计划功能 (v1.1.0)
- 🔄 游戏集成功能
- 🔄 本地保存和加载
- 🔄 分享功能实现
- 🔄 三角形和异形拼块
- 🔄 批量处理工具

---

**注意**: 当前版本中的"开始游戏"、"保存拼图"和"分享拼图"功能为预留接口，将在后续版本中完善实现。
